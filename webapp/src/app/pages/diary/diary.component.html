<mat-horizontal-stepper [linear]="false" #stepper align="center" class="form">
	<mat-step [stepControl]="firstFormGroup">
		<form [formGroup]="firstFormGroup" class="form">
			<ng-template matStepLabel>Choose the Day</ng-template>
			<mat-form-field>
				<mat-label>Choose a date</mat-label>
				<input
					matInput
					[max]="maxDate"
					[matDatepicker]="picker"
					[(ngModel)]="record.date"
					(ngModelChange)="findDate(record.date)"
					[ngModelOptions]="{ standalone: true }"
				/>
				<mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
				<mat-datepicker [dateClass]="dateClass" #picker></mat-datepicker>
			</mat-form-field>
			<div>
				<button mat-button matStepperNext>Next</button>
			</div>
		</form>
	</mat-step>
	<mat-step [stepControl]="secondFormGroup">
		<form [formGroup]="secondFormGroup" class="form">
			<ng-template matStepLabel>Emotions</ng-template>
			<mat-form-field>
				<mat-label>I'm feeling...</mat-label>
				<mat-select [formControl]="emotionsControl" [(ngModel)]="record.emotion">
					<h3>
						<mat-option *ngFor="let emotion of emotions" [value]="emotion">
							{{ emotion.emoji }}
						</mat-option>
					</h3>
				</mat-select>
			</mat-form-field>
			<div>
				<button mat-button matStepperPrevious>Back</button>
				<button mat-button matStepperNext>Next</button>
			</div>
		</form>
	</mat-step>
	<mat-step>
		<form [formGroup]="firstFormGroup" class="form">
			<ng-template matStepLabel>Notes</ng-template>
			<p>Tell me more about it</p>
			<mat-form-field class="full-width">
				<mat-label>‚úçÔ∏è Write down your thoughts </mat-label>
				<textarea
					matInput
					placeholder="Ex. Dear diary, today..."
					[(ngModel)]="record.notes"
					[ngModelOptions]="{ standalone: true }"
				></textarea>
			</mat-form-field>
			<div>
				<button mat-button matStepperPrevious>Back</button>
				<button mat-button matStepperNext>Next</button>
			</div>
		</form>
	</mat-step>
	<mat-step>
		<form class="form">
			<ng-template matStepLabel>Overview</ng-template>

			<mat-form-field class="full-width">
				<mat-label>üìÖ Day</mat-label>
				<input
					matInput
					[matDatepicker]="overviewDate"
					[(ngModel)]="record.date"
					[ngModelOptions]="{ standalone: true }"
					[disabled]="true"
				/>
				<mat-datepicker #overviewDate></mat-datepicker>
			</mat-form-field>
			<mat-form-field class="full-width">
				<mat-label>‚ù§Ô∏è You felted</mat-label>
				<mat-select
					[formControl]="emotionsControl"
					[(ngModel)]="record.emotion"
					[disabled]="true"
				>
					<mat-option *ngFor="let emotion of emotions" [value]="emotion">
						{{ emotion.emoji }}
					</mat-option>
				</mat-select>
			</mat-form-field>
			<mat-form-field class="full-width">
				<mat-label>‚úçÔ∏è Extra notes </mat-label>
				<textarea
					matInput
					[disabled]="true"
					[(ngModel)]="record.notes"
					[ngModelOptions]="{ standalone: true }"
				></textarea>
			</mat-form-field>
			<div>
				<button mat-raised-button color="warn" (click)="clean(); stepper.reset()">
					Cancel
				</button>
				<button mat-button matStepperPrevious>Back</button>
				<button mat-raised-button color="accent" (click)="newRecord(); stepper.reset()">
					Save
				</button>
			</div>
		</form>
	</mat-step>
</mat-horizontal-stepper>
